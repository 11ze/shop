<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>结算</title>
</head>
<body>

<tr>
    <th width="100">地址选择：</th>
    <td>
        <form action="{:cmf_url('portal/order/add')}" method="post">
        <select id="select-category" class="selectpicker" onclick="doSelect()">
            <option value="0">请选择地址</option>
            <foreach name="address" item="cate">
                <option value="{$cate.id}">{$cate.details} {$cate.phone} {$cate.username}</option>
            </foreach>
        </select>
        <input class="form-control" type="hidden" value="" name="addr_id"
               id="js-categories-id-input"/>

            <a>商品：</a>
            <a>数量：1</a>
            <input value="{$goods['id']}" name="goods" hidden>
            <a>{$goods['name']}</a>
            <a>￥{$goods['price']}</a>
            <input type="submit" value="支付">
        </form>
    </td>
    <a href="{:cmf_url('portal/address/index')}">如果没有地址？请先选择添加地址</a>
</tr>
<script>function doSelect() {
    var myselect = document.getElementById("select-category");
    var index = myselect.selectedIndex;
    var category_id = myselect.options[index].value;
    var myselect=document.getElementById("js-categories-id-input");
    myselect.value = category_id;
    console.log(category_id+'123')
}</script>
</body>
</html>
